{% load i18n %}
{% for question in questions %}
    {% ifchanged %}
        {% if question.type == 'DataBindOnly' %}
            <tr class="info form-data-hidden-values">
                <td colspan="2">
                    <strong>{% trans "Hidden Values (Form Calculations)" %}</strong>
                </td>
            </tr>
        {% elif not question.type and not question.children %}
            <tr class="info">
                <td colspan="2">
                    <strong>{% trans "Unrecognized Data" %}</strong>
                </td>
            </tr>
        {% endif %}
    {% endifchanged %}
    {% ifchanged %}
        {% if question.response == None %}
        <tr class="form-data-question form-data-skipped-spacer muted warning table-condensed">
            <td colspan="2"><center>{% trans 'â€¦' %}</center></td>
        </tr>
        {% endif %}
    {% endifchanged %}
<tr class="form-data-question {% if question.response == None %}muted form-data-skipped warning{% endif %}">
    {% if question.children %}
        <td colspan="2" title="{{ question.value }}">
            <table class="table table-bordered">
                {% if question.type %}
                <caption>
                    {% include 'reports/form/partials/single_form_label.html' %}
                </caption>
                {% endif %}
                {% with template_name='reports/form/partials/single_form_tree.html' questions=question.children %}
                    {% include template_name %}
                {% endwith %}
            </table>
        </td>
    {% else %}
        <td class="span6" title="{{ question.value }}">
            {% include 'reports/form/partials/single_form_label.html' %}
        </td>
        <td class="span6" title="{{ question.response }}">
            {% if question.options %}
                <div class="form-data-readable">
                {% for option in question.options %}
                    {% if option.value == question.response %}
                        {{ option.label|linebreaksbr }}
                    {% endif %}
                {% endfor %}
                </div>
                <div class="form-data-raw">
                    {% if question.response %}{{ question.response|linebreaksbr }}{% endif %}
                </div>
            {% else %}
                <div class="form-data-readable form-data-raw">
                    {% if question.response %}{{ question.response|linebreaksbr }}{% endif %}
                </div>
            {% endif %}
        </td>
    {% endif %}
</tr>
{% endfor %}

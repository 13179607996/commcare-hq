{% extends base_template %}

{% load case_tags %}
{% load hq_shared_tags %}

{% block head %}
    {{ block.super }}
    {% include "imports/datatables.html" %}
    <style>
        h2 {
            padding-top: 1em;
        }
        .no_data {
            text-align: center;
            color: #ccc;
        }
        .inner_container {
            text-align: left;   
            width: 95%;
            margin: auto;
            padding: 1em 0 1em 0;
        }
        table.case_details, table.case_history, table.case_properties {
            border: 1px solid #ccc;
            width: 100%;
        }
    </style>
    <script>
    var form_lookup_dict = {{ form_lookups|JSON }};
    $(document).ready(function() {
        // this adds a clickable link to our form elements
        var url_base = "{% url render_form_data domain 'placeholder_formid' %}";
        var link_template = '<a href="placeholder_url">placeholder_text</a>'
        $(".xform_ref").each(function() {
            var formid = $(this).data("formid");
            if (formid) {
                var text = form_lookup_dict[formid];
                var url = url_base.replace("placeholder_formid", formid);
                var body = link_template.replace("placeholder_url", url).replace("placeholder_text", text);
                $(this).html(body);
            }
        });
    });
         
    </script>
{% endblock %}

{% block content %}
    <div id="main_container">
    <div class="inner_container">
        {% render_case case_id %} 
    </div>
    </div>
{% endblock %}
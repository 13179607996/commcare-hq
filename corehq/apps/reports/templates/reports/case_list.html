{% extends "reports/report_base.html" %}
{% load report_tags %}

{% block head %}
    {{ block.super }}
    <style>
        #report-content {
            padding:  10px;
        }
        .dataTables_wrapper {
            min-height: 0 !important;
        }
        h3 {
            margin: 10px 0;
        }
    </style>
    <script>
        $(function () {
            'use strict';
            // embarrassing, but this is just to undo something that is done in report_base.html
            $('.datatable').parent().find('.fg-toolbar').addClass('ui-corner-tr ui-corner-tl');
        });
    </script>
{% endblock %}

{% block reportcontent %}
<div id="report-content">
    {% for case_type, count in case_types.items %}
        <h3>Case Type: {{ case_type }} ({{ count }})</h3>
        <table class="datatable" data-source="{% url paging_case_list domain case_type individual %}">
            <thead>
                <tr>
                    {% for header in report.headers %}
                        <th data-sort="{{ header.sort_type }}">
                            {% if header.html %}{{ header.html }}{% else %}{{ header|linebreaksbr }}{% endif %}
                        </th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    {% endfor %}
</div>
{% endblock %}
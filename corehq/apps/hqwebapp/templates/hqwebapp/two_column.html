{% extends 'hqwebapp/base.html' %}
{% load menu_tags %}
{% load hq_shared_tags %}

{# stuff to override old styles -- remove when everything is migrated over #}
{% block oldstyle_tag %}{% endblock %}
{% block oldstyle_imports %}{% endblock %}
{% block oldstyle_hack_start %}{% endblock %}
{% block oldstyle_hack_end %}{% endblock %}

{% block layout_style %}hq-double-col{% endblock %}

{% block js %}{{ block.super }}
    <script src="{% static 'hqwebapp/js/lib/keymaster.min.js' %}"></script>
    <script src="{% static 'hqwebapp/js/keyboard_navigator.js' %}"></script>
{% endblock %}

{% block js-inline %}{{ block.super }}
    {% block keyboard_nav_config %}
   <script>
        function gen_sidebar_elements() {
            return $('.sidebar .nav-list a');
        }
        var sidebar_navigator = new KeyboardNavigator();
        sidebar_navigator.init({
            name: 'sidebar',
            nav_key: 'option',
            action_key: 'enter',
            forward_key: 'down',
            back_key: 'up',
            element_list_generator: gen_sidebar_elements,
            reset_index: false
        });

        function gen_tab_elements() {
            return $("[data-toggle='tab']");
        }
        var tab_navigator = new KeyboardNavigator();
        tab_navigator.init({
            name: 'tabs',
            nav_key: 'option',
            action_key: 'enter',
            element_list_generator: gen_tab_elements,
            reset_index: false
        });
   </script>
   {% endblock %}
{% endblock %}

{% block content %}
    <div class="row-fluid">
        <div class="sidebar span2">
            {% block sidebar %}
            {% format_sidebar %}
            {% endblock %}
        </div>
        <div class="hq-content span10 {% block column_style %}{% endblock %} ">
            {% block main_column %}{% endblock %}
        </div>
    </div>
{% endblock content %}

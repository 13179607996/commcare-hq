{% extends "users/users_base.html" %}
{% load i18n %}

{% block groups_indicator %}
<ul>
    <li class="selected">{{ group.name }}</li>
</ul>
{% endblock %}

{% block user-view %}
<div class='all_users'>
	<h1>Members of {{ group.name }}</h1>
	<table class='big_border'>
	<tr><td></td>
		<td>{% trans "Member ID" %}</td>
		<td></td>
	</tr>
	{% for member in members %}
	<tr><td></td>
		<td>{{ member.django_user.username }}</td>
    	<td><a class="delete_link" href="#">{% trans "Leave" %}</a>
	        <div class="delete_dialog" title="Leave {{ group.name }}?">
	            <form name="leave_group" action="{% url leave_group domain group.get_id member.couch_user_id %}" method="POST">
	                <table>
	                    <tr><td>
	                    Are you sure you want to drop user {{ member.django_user.username }} from the group "{{ group.name }}"?
	                    </td></tr>
	                </table>
	                <input type="hidden" name="redirect_url" value="group_members" />
	                <input type="submit" value="Remove" />
	            </form>
	        </div>
    	</td>
	</tr>
	{% endfor %}
	</table>
	
	
	<h1>Non-Members</h1>
	<table class='big_border'>
	<tr><td></td>
		<td>{% trans "Member ID" %}</td>
		<td></td>
	</tr>
	{% for nonmember in nonmembers %}
	<tr><td></td>
		<td>{{ nonmember.django_user.username }}</td>
    	<td><a class="add_link" href="#">{% trans "Leave" %}</a>
	        <div class="add_dialog" title="Leave {{ group.name }}?">
	            <form name="join_group" action="{% url join_group domain group.get_id nonmember.couch_user_id %}" method="POST">
	                <table>
	                    <tr><td>
	                    Are you sure you want to add user {{ nonmember.django_user.username }} to group "{{ group.name }}"?
	                    </td></tr>
	                </table>
	                <input type="hidden" name="redirect_url" value="group_members" />
	                <input type="submit" value="Add" />
	            </form>
	        </div>
    	</td>
	</tr>
	{% endfor %}
	</table>	
</div>
{% endblock %}


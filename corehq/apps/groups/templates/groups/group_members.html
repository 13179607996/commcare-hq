{% extends "groups/all_groups.html" %}
{% load i18n %}

{% block head %}
    {{ block.super }}
    <style>
        h2 {
            font-weight: normal;
            font-size: 1.5em;
        }
        .user-bubbles {
            margin: 1.5em;
        }
        .user-bubble {
            float: left;
            padding: .5em;
            margin:  .25em;
            cursor: pointer;
        }
        .non-member:hover, .member {
            background-color: #eee;
            border: 1px solid #888;
            color: black;
        }
        .non-member, .member:hover {
            background-color: white;
            border: 1px solid #eee;
            color: #666;
        }
        .delete_this_group {
            float: right;
        }

        #group-layout > tbody > tr > td:first-child {
            border-right: 1px solid #CCC;
        }
    </style>
{% endblock %}

{% block group-view %}
<div>
    <div class="delete_this_group">
        <a href="#" class="dialog_opener"><span class="ui-icon ui-icon-trash" href="#"></span>Delete this group</a>
        <div class="dialog delete_dialog" title="Delete {{ group.name }}?">
          <form  name="delete_group" action="{% url delete_group domain group.get_id %}" method="POST">
              <table>
                  <tr><td>
                  Are you sure you want to delete the group: "{{ group.name }}"?
                  </td></tr>
              </table>
              <input type="submit" value="Delete" />
          </form>
        </div>
    </div>
    <br style="clear: both;"/>
    <div class="user-bubbles">
        {% for member in members %}
            <form name="leave_group" action="{% url leave_group domain group.get_id member.user_id %}" method="POST">
                <div class="user-bubble member ui-corner-all submit">
                    <input type="hidden" name="redirect_url" value="group_members" />
                    <a class="delete_link submit" href="#"></a>
                    <span>{{ member.raw_username }}</span>
                </div>
            </form>
        {% endfor %}
        <br style="clear: both;">
    </div>
    <div class="user-bubbles">
        {% for nonmember in nonmembers %}
            <form name="join_group" action="{% url join_group domain group.get_id nonmember.get_id %}" method="POST">
                <div class="user-bubble non-member ui-corner-all submit">
                    <input type="hidden" name="redirect_url" value="group_members" />
                    <a class="new_link" href="#"></a>
                    <span>{{ nonmember.raw_username }}</span>
                </div>
            </form>
        {% endfor %}
    </div>
</div>
{% endblock %}


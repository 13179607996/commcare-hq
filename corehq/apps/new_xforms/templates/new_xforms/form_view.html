{% extends "new_xforms/forms.html" %}
{% load xforms_extras %}
{% block form-view %}
    <h3>{{ module|nice }} &gt; {{ form|nice }}</h3>
    {% if xform %}
        <table class="config">
            {% if edit %}
                <tr class="form editable">
                    <th>Form Name</th>
                    <td>
                        <input type="text" name="name" />
                        <div class="immutable">{% translate form.trans "en" app.langs %}</div>
                    </td>
                    <td>
                        <a href="{% url corehq.apps.new_xforms.views.edit_form_attr domain app.id module.id form.id  'name' %}" class="submit button">
                            Save
                        </a>
                        <div class="immutable">
                            [<a href="#">edit</a>]
                        </div>
                    </td>
                </tr>
                <tr class="form editable">
                    <th>Requires</th>
                    <td>
                        <select class="code" name="requires">
                            <option value="none">none</option>
                            <option value="case">case</option>
                            <option value="referral">referral</option>
                        </select>
                        <div class="immutable"><code>{{ form.requires }}</code></div>
                    </td>
                    <td>
                        <a href="{% url corehq.apps.new_xforms.views.edit_form_attr domain app.id module.id form.id  'requires' %}" class="submit button">
                            Save
                        </a>
                        <div class="immutable">
                            [<a href="#">edit</a>]
                        </div>
                    </td>
                </tr>
                <tr class="form editable">
                    <th>Show Count</th>
                    <td>
                        <select class="code" name="show_count">
                            <option value="True">True</option>
                            <option value="False">False</option>
                        </select>
                        <div class="immutable"><code>{% if form.show_count %}True{% else %}False{% endif %}</code></div>
                    </td>
                    <td>
                        <a href="{% url corehq.apps.new_xforms.views.edit_form_attr domain app.id module.id form.id  'show_count' %}" class="submit button">
                            Save
                        </a>
                        <div class="immutable">
                            [<a href="#">edit</a>]
                        </div>
                    </td>
                </tr>
                <tr class="form editable">
                    <th>XForm</th>
                    <td>
                        <input type="file" name="xform" />
                        <div class="immutable">
                            <code>{{ form.xmlns }}</code>
                        </div>
                    </td>
                    <td>
                        <a href="{% url corehq.apps.new_xforms.views.edit_form_attr domain app.id module.id form.id  'xform' %}" class="submit button">
                            Upload
                        </a>
                        <div class="immutable">
                            [<a href="#">replace</a>]
                        </div>
                    </td>
                </tr>
            {% else %}
                <tr>
                    <th>Form Name</th>
                    <td>
                        {% translate form.trans "en" app.langs %}
                    </td>
                </tr>
                <tr>
                    <th>Requires</th>
                    <td>
                        <code>{{ form.requires }}</code>
                    </td>
                </tr>
                <tr>
                    <th>Show Count</th>
                    <td>
                        <code>{% if form.show_count %}True{% else %}False{% endif %}</code>
                    </td>
                </tr>
                <tr>
                    <th>XForm</th>
                    <td><code>{{ form.xmlns }}</code></td>
                </tr>
            {% endif %}
        </table>
    {% else %}
        <p>This xform doesn't seem to exist. Would you like to create one with this name?</p>
        <a class="button" href="{% url corehq.apps.new_xforms.views.new_form domain app.id module.id %}?form_name={{ form.name }}">Create Form</a>

    {% endif %}
{% endblock %}

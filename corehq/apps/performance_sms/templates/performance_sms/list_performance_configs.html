{% extends "performance_sms/performance_sms_base.html" %}
{% load i18n %}
{% block main_column %}
    <h2>{% trans 'Performance Messages' %}</h2>
    <p>{% trans 'Performance messages allow you to setup scheduled performance-based messages to your workforce in a few simple steps.' %}</p>
    <a class="btn btn-success" href="{% url "performance_sms.add_performance_config" domain %}">
        <i class="icon icon-white icon-plus"></i> {% trans 'New Performance Message' %}
    </a>
    <hr>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>{% trans 'Recipient Group' %}</th>
                <th>{% trans 'Frequency' %}</th>
                <th>{% trans 'Message' %}</th>
                <th>{% trans 'Edit' %}</th>
            </tr>
        </thead>
        <tbody>
        {% for performance_config in performance_configs %}
            <tr>
                <td>{{ performance_config.group.name }}</td>
                <td>{{ performance_config.schedule.interval }}</td>
                <td>{{ performance_config.template }}</td>
                <td>
                    <a class="btn btn-success" href="{% url "performance_sms.edit_performance_config" domain performance_config.get_id %}">
                        <i class="icon icon-white icon-edit"></i> {% trans 'Edit' %}
                    </a>
                </td>
            </tr>
        {% empty %}
            <tr><td colspan="3">{% trans "No performance messages setup yet." %}</td></tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}

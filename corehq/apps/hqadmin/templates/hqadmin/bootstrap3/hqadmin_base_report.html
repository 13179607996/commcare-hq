{% extends "style/bootstrap3/two_column.html" %}
{% load hq_shared_tags %}
{% load i18n %}

{% block head %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static 'hqwebapp/js/lib/jquery-ui-datepicker/datepicker-theme/jquery-ui-1.8.17.custom.css' %}" />
{% endblock %}

{% block js %}{{ block.super }}
    {% include "imports/datatables.html" %}
    <script type="text/javascript" src="{% static 'reports/javascripts/config.dataTables.bootstrap.js' %}"></script>
    <script type="text/javascript" src="{% static 'jquery-ui-1.8.23-legacy/jquery-ui.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'reports/javascripts/datepicker.js' %}"></script>
{% endblock %}

{% block js-inline %} {{ block.super }}
    <script type="text/javascript">
        {% if aoColumns %}
        $(function() {
                var reportTables = new HQReportDataTables({
                    {% if aoColumns %}aoColumns: {{ aoColumns|JSON }}{% endif %}
                });
                reportTables.render();
        });
        {% endif %}
    </script>
{% endblock %}

{% block page-title %}
    <ul class="breadcrumb">
        <li>
            <a href="{% url "default_admin_report" %}"><strong>{% trans "Admin Reports" %}</strong></a> <span class="divider">&gt;</span>
        </li>
        {% if not report_breadcrumbs %}
            <li class="active">
                <div id="report-title"><a href="#">{% block report-title %}{% trans "Administrative Report" %}{% endblock %}</a></div>
            </li>
        {% else %}
            {{ report_breadcrumbs|safe }}
{% endblock %}

{% block pre_page_content %}
    {% if report.is_exportable or report.is_emailable or report.is_printable %}
    <div class="report-actions">
        {% if report.is_exportable %}
            <a href="#" class="btn btn-default{% if report.needs_filters %} hide{% endif %}" id="export-report-excel">
                <i class="fa fa-share"></i> {% trans "Export to Excel" %}
            </a>
        {% endif %}

        {% if report.is_emailable %}
            <a href="#email-report-modal" class="btn{% if report.needs_filters %} hide{% endif %}" data-toggle="modal" id="email-report">
                <i class="icon icon-envelope"></i> {% trans "Email report" %}
            </a>
        {% endif %}

        {% if report.is_printable %}
            <a href="#" class="btn{% if report.needs_filters %} hide{% endif %}" id="print-report">
                <i class="icon icon-print"></i> {% trans "Print" %}
            </a>
        {% endif %}
    </div>
    {% endif %}
{% endblock %}

{% block main_column %}
    {% if not hide_filters %}
        {% include "hqadmin/bootstrap2/hqadmin_base_filters.html" %}
    {% endif %}
    <div id="report-content">
        {% block reportcontent %}{% endblock %}
     </div>
{% endblock %}

{% block title %}Admin Reports{% endblock %}

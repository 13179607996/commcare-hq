{% extends "domain/admin/info_base.html" %}
{% load hq_shared_tags %}
{% load hqstyle_tags %}
{% load i18n %}

{% block page_content %}
<form>
    <fieldset>
        <legend>{% trans "DHIS2 Logs" %}</legend>
        <div>
            <table class="table table-striped">
                <tr>
                    <th>{% trans "Timestamp" %}:</th>
                    <td>{{ log.timestamp }}</td>
                </tr>
                <tr>
                    <th>{% trans "Request" %}:</th>
                    <td>{{ log.request_method }} {{ log.request_url }}</td>
                </tr>
                <tr>
                    <th>{% trans "Status" %}:</th>
                    <td>{% if log.response_status %}{{ log.response_status }}{% else %}[N/A]{% endif %}</td>
                </tr>

                <tr>
                    <th>{% trans "Request headers" %}:</th>
                    <td><pre>{{ log.request_headers }}</pre></td>
                </tr>
                {% if log.request_params %}
                <tr>
                    <th>{% trans "Request params" %}:</th>
                    <td><pre>{{ log.request_params }}</pre></td>
                </tr>
                {% endif %}
                {% if log.request_body %}
                <tr>
                    <th>{% trans "Request body" %}:</th>
                    <td><pre>{{ log.request_body }}</pre></td>
                </tr>
                {% endif %}
                {% if log.request_error %}
                <tr>
                    <th>{% trans "Request error" %}:</th>
                    <td><pre>{{ log.request_error }}</pre></td>
                </tr>
                {% endif %}
                {% if log.response_body %}
                <tr>
                    <th>{% trans "Response body" %}:</th>
                    <td><pre>{{ log.response_body }}</pre></td>
                </tr>
                {% endif %}
            </table>
        </div>
        <p>
            <a class="btn btn-default" href="javascript:history.back()">Back</a>
        </p>

    </fieldset>
</form>
{% endblock %}

{% load crispy_forms_tags %}
<section class="hq-styleguide-article">
    <header class="page-header">
        <h1 id="molecules-forms">Forms on CommCare HQ</h1>
    </header>
    <p class="lead">
        The following guide is a living document that demonstrates how to
        implement forms on HQ, how to integrate forms with either
        <a href="http://knockoutjs.com/">knockout.js</a> or
        <a href="https://angularjs.org/">angular.js</a>, and how to set up a
        form using our framework of choice,
        <a href="http://django-crispy-forms.readthedocs.org/en/latest/">Crispy Forms</a>.
    </p>
    <h2>A primer on Crispy Forms</h2>
    <p>
        We use <a href="http://django-crispy-forms.readthedocs.org/en/latest/">Crispy Forms</a>
        for any form related interactions on HQ, as it establishes consistency
        in design and we have to write fewer lines of html.
    </p>
    <h3>Importing the Crispy Framework</h3>
    <p>
        For the sake of clarity, we'll be referring to Crispy Form components in the examples
        based on this import block.
        <pre>from django import forms
from django.utils.translation import ugettext_lazy, ugettext as _
from crispy_forms.helper import FormHelper
from crispy_forms import layout as crispy
from crispy_forms import bootstrap as twbscrispy
from corehq.apps.hqwebapp import crispy as hqcrispy</pre>
    </p>
    <h3>A Very Basic Crispy Form</h3>
    <p>
        Below is a basic Crispy Form implementation with no javascript integration.
        A good starting point just to understand what's going on.
    </p>
    {% include 'styleguide/_includes/molecules/forms/basic_crispy.html' with slug='basic-crispy' title='Basic Crispy Form' %}

    <h2>Visual Appearance</h2>
    <p>
        This is simply how the form looks to the user. HQ uses styles provided
        by <a href="http://getbootstrap.com/css/#forms">Bootstrap 3 Forms</a>,
        with the majority of forms using the <code>form-horizontal</code>
        style. <a href="http://django-crispy-forms.readthedocs.org/en/latest/">Crispy Forms</a>
        is the framework we use to reduce the amount of HTML we have to write
        to style form fields under the Bootstrap 3 conventions.
    </p>
    <div class="alert alert-info" role="alert">
        <strong>Note that Crispy Forms</strong> <em>does not</em> control the form's logic,
        processing, validation, or anything having to do with form data. It's
        simply a tool to write less HTML and maintain consistency.
        It can be used specify <em>hooks</em> for the display logic.
    </div>
    <p>
        <a href="{% url 'ex_simple_crispy_forms' %}" class="btn btn-primary pull-right">View Example</a>
        {% include 'styleguide/_includes/molecules/forms/visual-defs.html' %}
    </p>

    <script>
        $(function () {
            $('.styleguide-example form').submit(function (e) {
                e.preventDefault();
            });
        });
    </script>
</section>

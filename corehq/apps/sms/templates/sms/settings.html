{% extends 'style/bootstrap3/base_section.html' %}
{% load i18n %}
{% load hq_shared_tags %}
{% load crispy_forms_tags %}

{% block js %}{{ block.super }}
    <script src="{% new_static 'sms/ko/settings.ko.js' %}"></script>
{% endblock %}

{% block js-inline %}{{ block.super }}
    <script>
        var settingsViewModel = new SettingsViewModel(
            {{ form.current_values|JSON }}
        );
        ko.applyBindings(settingsViewModel, $('#sms-settings-form').get(0));
        settingsViewModel.init();
    </script>
{% endblock %}

{% block stylesheets %}
    <style>
        .form-horizontal .form-group {
            margin-left: 0;
        }

        .input-xxlarge {
            width: 530px !important;
        }

        .input-large {
            width: 210px !important;
        }
    </style>
{% endblock %}

{% block page_content %}
    <div id="sms-settings-form">
        {% crispy form %}
    </div>

    {% include "sms/partials/day_time_windows.html" with context=form.restricted_sms_times_widget_context only %}
    {% include "sms/partials/day_time_windows.html" with context=form.sms_conversation_times_widget_context only %}
{% endblock %}

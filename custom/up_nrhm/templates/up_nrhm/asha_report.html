{% extends "reports/async/tabular.html" %}
{% load i18n %}
{% load hq_shared_tags %}

{% block pretable %}
    {{ block.super }}
    {% if sf == "" %}
    <div class="row hq-flush-content">
        <div class="span6">
            <table class="table table-striped">
                <tr>
                    <td><strong>Total number of ASHAs under the Facilitator</strong></td>
                    <td>{{ total_under_facilitator }}</td>
                </tr>
                <tr>
                    <td><strong>Total number of ASHAs for whom the functionality checklist was filled</strong></td>
                    <td>{{ total_with_checklist }}</td>
                </tr>
            </table>
        </div>
    </div>
    {% endif %}
{% endblock pretable %}

{% block js-inline %}
    <script>
        function hideFilters(sf) {
            if (sf === "") {
                $('#fieldset_datespan').css('display', 'block');
                $('#fieldset_year').css('display', 'none');
                $('#fieldset_month').css('display', 'none');
            } else if (sf === "sf3") {
                $('#fieldset_datespan').css('display', 'none');
                $('#fieldset_year').css('display', 'block');
                $('#fieldset_month').css('display', 'block');
            }
        }

        $('#report_filter_sf').on('change', function() {
           hideFilters($(this).select2('data').id);
        });
        hideFilters($('#report_filter_sf').select2('data').id);
    </script>
{% endblock %}
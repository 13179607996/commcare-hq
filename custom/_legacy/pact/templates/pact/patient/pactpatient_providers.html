{% extends "pact/patient/pactpatient_base.html" %}
{% load hq_shared_tags %}
{% block patient-tab-container %}
  <div id="providerblock">
    <div class="col-sm-4">
      <h3>Current Providers
        &nbsp;<a id="btn_provider_cancel" class="btn btn-info" href="{{ pt_root_url }}&view=info">Cancel</a>
        &nbsp;<button id="btn_provider_save" class="btn btn-success" data-bind="click:saveProviders, visible: showSave">Save</button>
        <i class="fa fa-spin fa-spinner" data-bind="visible: is_loading"></i>
      </h3>

      <table class="table table-bordered table-striped">
        <thead>
          <tr>
            <th class="col-sm-1"></th>
            <th class="col-sm-4">Name</th>
            <th class="col-sm-1"></th>
          </tr>
        </thead>
        <tbody data-bind="foreach: selected_providers">
          <tr>
            <td>
              <p class="lead">
                <span data-bind="text:$index() + 1"></span>
              </p>
            </td>
            <td>
              <p class="lead">
                <button class="btn btn-danger" data-bind="click: $root.rmProvider"><i class="fa fa-minus"></i></button> &nbsp;
                <span data-bind="text: first_name"></span> <span
                data-bind="text: last_name"></span>

              </p>
              <strong><span data-bind="text: role"></span></strong><br>
              <span data-bind="text: email"></span>

            <td>
              <p>
                <button class="btn btn-info" data-bind="click: $root.providerUp, visible: $index() > 0"><i class="fa fa-chevron-up"></i></button>
              </p>
              <p>
                <button class="btn btn-info" data-bind="click: $root.providerDown, visible: $parent.selected_providers().length > 1 && ($index() < ($parent.selected_providers().length - 1))"><i class="fa fa-chevron-down"></i></button>
              </p>

            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-sm-6">
      <h3>Provider List
        <select data-bind="options: facilities, value: selectedFacility"> </select>
      </h3>
      {#        <select>#}
      {#        <option value="volvo">Volvo</option>#}
      {#        <option value="saab">Saab</option>#}
      {#        <option value="mercedes">Mercedes</option>#}
      {#        <option value="audi">Audi</option>#}
      {#        </select>#}

      <table class="table table-bordered table-striped">
        <thead>
          <tr>
            <th class="col-sm-1"></th>
            <th class="col-sm-4">Name</th>
            <th>Info</th>
          </tr>
        </thead>
        <tbody data-bind="foreach: providers">
          <tr data-bind="visible: $root.showInAvailableProviders($data)">
            <td>
              <button class="btn btn-success" data-bind="click: $root.addProvider"><i class="fa fa-plus"></i></button>
            </td>
            <td>
              <p class="lead">
                <span data-bind="text: first_name"></span> <span
                data-bind="text: last_name"></span>
              </p>
              <strong><span data-bind="text: role"></span></strong><br>
              <span data-bind="text: email"></span>

            <td>
              <span data-bind="text: facility_name"></span><br>
              <address>
                <span data-bind="text: facility_address"></span><br>
              </address>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}

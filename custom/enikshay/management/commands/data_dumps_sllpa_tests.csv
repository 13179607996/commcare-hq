Column Name,Type,Case Reference,Calculation,NotesCommcare UUID,Primary Case,self,caseid,eNikshay ID (Person),Related Case,person,person_id,Episode Type,Primary Case,self,episode_type_at_request,very early tests may not have this valueEpisode ID,Related Case,episode,episode_id,this is the episode at the time the test was requestedName,Related Case,person,name,Date of Episode Creation,Related Case,episode,opened_date,this is the date that the episode case that was open/active when this test was requested was openedReferring Facility - Type,Primary Case,self,referring_facility_type,Referring Facility - State,N/A,N/A,N/A,see the location tree for the referring facility IDReferring Facility - District,N/A,N/A,N/A,see the location tree for the referring facility IDReferring Facility - TU,N/A,N/A,N/A,see the location tree for the referring facility IDReferring Facility ID,Primary Case,self,referring_facility_id,This is the UUID of the facility in CommCare.Referring Facility - Name (PHI/ ICTC Center/ DRTB Centre etc),Primary Case,self,referring_facility_saved_name,Test Request Date,Primary Case,self,test_requested_date,Test Type Value,Primary Case,self,test_type_value,Test Requested,Primary Case,self,test_type_label,Reason for Testing,Primary Case,self,rft_general,Criteria for Testing,Custom,custom,"coalesce (self.rft_drtb_diagnosis, self.rft_drtb_diagnosis_ext_dst, self.rft_drtb_follow_up, self.rft_dstb_diagnosis, self.rft_dstb_followup)",Referred to - State,N/A,N/A,N/A,"Referred to - Faciilty isn't saved by ID and the name isn't guaranteed to be unique, so we don't have a way to iterate up the location tree"Referred to - Facility Name - C&DST Lab,Primary Case,self,test_facility_referred_to,Test ID,Primary Case,self,readable_test_id,Specimen Type,Primary Case,self,specimen_type,"If specimen type is others, provide details entered by users",N/A,N/A,N/A,"this will appear in the specimen_type column if ""other"" was chosen"Visual Appearance,Primary Case,self,sputum_visual_appearance,Reported By,N/A,N/A,N/A,we did not capture the name or ID of the user who entered the test resultDate of Specimen Collection,Primary Case,self,date_tested,this was saved as date_testedDate Test Result reported,Primary Case,self,date_reported,"added ""reported"" to the column name"Testing Facility - State,N/A,N/A,N/A,"If the testing facility ID was selected (Testing Facility - Lab ID), then see the location tree for that facility ID, if the name was entered via freetext, this location information is not available"Testing Facility - Lab ID,Primary Case,self,test_facility_id,"This is the UUID of the facility in CommCare. This was not a required question. Therefore if the Testing Facility name was entered as freetext, no ID will be available here"Testing Facility - Lab Name,Primary Case,self,test_facility_name,This value could be selected from a list or entered via free textLab Serial Number,Primary Case,self,lab_serial_number,M Tuberculosis Result?,N/A,N/A,N/A,"see column ""Test Result"" captured as part of the result_value propert, the ""value"" saved in this property changes as releveant to the test type"Quinolone Resistance Result,Custom,custom,"if (selected('fq_class', self.drug_resistance_list), 'resistant', if(selected('fq_class', self.drug_sensitive_list), 'sensitive', 'no_result'))",SLID Resistance Result,Custom,custom,"if (selected('slid_class', self.drug_resistance_list), 'resistant', if(selected('slid_class', self.drug_sensitive_list), 'sensitive', 'no_result'))",Test Result,Primary Case,self,result,"the ""value"" saved in this property changes as releveant to the test type"Test Result Summary,Primary Case,self,result_summary_display,this summary changes as relevant to the test typeTest requested form submitted by - ID,Primary Case,self,opened_by_user_id,This is the UUID of the User in CommCare.Test Requested Form submitted By - User Name,Primary Case,self,opened_by_username,Test Requested Form Submission Date,Primary Case,self,opened_date,Test Resulted Form Submitted by (Name),Custom,custom,"if(self.result_recorded = 'yes', if((if self.last_modified_by_user_username != '' and self.last_modified_by_user_username != system), self.last_modified_by_user_username, 'Overwritten due to bulk changes'), '')","we do not specifically capture the user_id of the user who submitted the results, however we can estimate based on the fact that no changes should have been made to the test post-result entry. Caveat: a system event could update the case post-result entry (e.g. some kind of migration). If that's the case then ""Overwritten due to bulk changes"" will be the value here."Test Resulted Form Submitted by (ID),Custom,custom,"if(self.result_recorded = 'yes', if((if self.last_modified_by_user_id != '' and self.last_modified_by_user_id != system), self.last_modified_by_user_id, 'Overwritten due to bulk changes'), '')","we do not specifically capture the user_id of the user who submitted the results, however we can estimate based on the fact that no changes should have been made to the test post-result entry. Caveat: a system event could update the case post-result entry (e.g. some kind of migration). If that's the case then ""Overwritten due to bulk changes"" will be the value here."Test Resulted Form Submission Date,Custom,custom,"if(self.result_recorded = 'yes', if(self.last_modified_by_user_id != system, self.last_modified_date, 'Overwritten due to bulk changes'), '')","we do not specifically capture the date of submission for the form that set the results, however we can estimate based on the fact that no changes should have been made to the test post-result entry. Caveat: a system event could update the case post-result entry (e.g. some kind of migration). If that's the case then ""Overwritten due to bulk changes"" will be the value here."